{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,aACA,MAAMC,EAAeC,SAASC,cAAc,kBACtCC,EAAeF,SAASG,eAAe,WACvCC,EAAeJ,SAASG,eAAe,iBACvCE,EAAaL,SAASG,eAAe,eAC3C,IAAIG,EAAW,CACbC,MAAO,GACPC,QAAS,IAYXT,EAAaU,iBAAiB,SAAS,EAAAZ,EAAAa,WAVlB,KACnBJ,EAAW,CACTC,MAAOR,EAAaY,SAASJ,MAAMK,MACnCJ,QAAST,EAAaY,SAASH,QAAQI,OAEzCC,QAAQC,IAAIR,GACZS,aAAaC,QAAQ,sBAAuBC,KAAKC,UAAUZ,GAAU,GAIT,MAC9D,MAAMa,EAAuB,KACA,KAAvBf,EAAaQ,OAAqC,KAArBP,EAAWO,QAC1CV,EAAakB,UAAW,EAAK,EAGjChB,EAAaK,iBAAiB,QAASU,GACvCd,EAAWI,iBAAiB,QAASU,GACrC,MAAME,EAAcN,aAAaO,QAAQ,uBAuBzCvB,EAAaU,iBAAiB,UArBPc,IAGrB,GAFAA,EAAMC,iBAGkC,KAAtCzB,EAAaY,SAASJ,MAAMK,OACY,KAAxCb,EAAaY,SAASH,QAAQI,MAK9B,IACEC,QAAQC,IAAI,cAAeR,GAC3BP,EAAa0B,QACbV,aAAaW,O,CACb,MAAOC,GACPd,QAAQC,IAAIa,EAAMC,MAClBf,QAAQC,IAAIa,EAAMnB,Q,MATpBqB,MAAKC,MAAAC,CAAA,6B,IAgCTC,OAAOvB,iBAAiB,QAhBP,KACf,IACE,MAAMwB,EAAmBhB,KAAKiB,MAAMb,GACpC,GAAyB,OAArBY,EACF,OAIAlC,EAAaY,SAASJ,MAAMK,MAAQqB,EAAiB1B,MACrDR,EAAaY,SAASH,QAAQI,MAAQqB,EAAiBzB,O,CAEzD,MAAOmB,GACPd,QAAQC,IAAIa,EAAMC,MAClBf,QAAQC,IAAIa,EAAMnB,Q,KAetBN,EAAaO,iBAAiB,aAVC,KAEa,KAAxCV,EAAaY,SAASH,QAAQI,OACQ,KAAtCb,EAAaY,SAASJ,MAAMK,MAE5BV,EAAakB,UAAW,EAExBlB,EAAakB,UAAW,CAAK","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\nconst feedbackForm = document.querySelector('.feedback-form');\nconst submitButton = document.getElementById('amazing');\nconst messageInput = document.getElementById('message-input');\nconst emailInput = document.getElementById('email-input');\nlet userData = {\n  email: '',\n  message: '',\n};\nconst saveUserData = () => {\n  userData = {\n    email: feedbackForm.elements.email.value,\n    message: feedbackForm.elements.message.value,\n  };\n  console.log(userData);\n  localStorage.setItem('feedback-form-state', JSON.stringify(userData));\n};\n\n//zapisz w localstorage userData, konwersja na json\nfeedbackForm.addEventListener('input', throttle(saveUserData, 500)); //pobiera dane raz na pol sekundy, sprawdzilem\nconst disableButtonIfEmpty = () => {\n  if (messageInput.value !== '' && emailInput.value !== '') {\n    submitButton.disabled = false;\n  }\n};\nmessageInput.addEventListener('input', disableButtonIfEmpty);\nemailInput.addEventListener('input', disableButtonIfEmpty);\nconst getUserData = localStorage.getItem('feedback-form-state');\n\nconst submitFunction = event => {\n  event.preventDefault();\n\n  if (\n    feedbackForm.elements.email.value === '' ||\n    feedbackForm.elements.message.value === ''\n  ) {\n    alert`Please fill all the gaps!`;\n    return;\n  } else {\n    try {\n      console.log(`User data: `, userData);\n      feedbackForm.reset();\n      localStorage.clear();\n    } catch (error) {\n      console.log(error.name);\n      console.log(error.message);\n    }\n  }\n};\n\nfeedbackForm.addEventListener('submit', submitFunction);\n// load event\nconst loadPage = () => {\n  try {\n    const existingUserData = JSON.parse(getUserData);\n    if (existingUserData === null) {\n      return;\n    } //jeśli nie ma zapisanych danych to nie rob nic\n    //jeśli są dane to przywróć te wartości\n    else {\n      feedbackForm.elements.email.value = existingUserData.email;\n      feedbackForm.elements.message.value = existingUserData.message;\n    }\n  } catch (error) {\n    console.log(error.name);\n    console.log(error.message); //jesli error to zwroc jego nazwe i message\n  }\n};\nwindow.addEventListener('load', loadPage); //event listener na window a nie form, bo to ono jest przeładowywane\n\nconst magicHappensHereISwear = () => {\n  if (\n    feedbackForm.elements.message.value === '' ||\n    feedbackForm.elements.email.value === ''\n  ) {\n    submitButton.disabled = true;\n  } else {\n    submitButton.disabled = false;\n  }\n};\nsubmitButton.addEventListener('mouseover', magicHappensHereISwear);\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$feedbackForm","document","querySelector","$945622fd0f572e60$var$submitButton","getElementById","$945622fd0f572e60$var$messageInput","$945622fd0f572e60$var$emailInput","$945622fd0f572e60$var$userData","email","message","addEventListener","throttle","elements","value","console","log","localStorage","setItem","JSON","stringify","$945622fd0f572e60$var$disableButtonIfEmpty","disabled","$945622fd0f572e60$var$getUserData","getItem","event","preventDefault","reset","clear","error","name","alert","$945622fd0f572e60$var$t","$945622fd0f572e60$var$_","window","existingUserData","parse"],"version":3,"file":"03-feedback.e12d8b1c.js.map"}